/* Auto-theme (dark default, pastel light) */
:root{
  --bg:#0f1115; --panel:#171923; --text:#e9eef5; --muted:#a9b3c1; --accent:#6ea8fe; --accent2:#a78bfa;
  --ok:#22c55e; --warn:#f59e0b; --danger:#ef4444; --border:#212633;
}
@media (prefers-color-scheme: light){
  :root{ --bg:#f6f8fc; --panel:#ffffff; --text:#1b2430; --muted:#5b6470; --accent:#6b7cff; --accent2:#b97eff; --ok:#16a34a; --warn:#b45309; --danger:#b4232d; --border:#e4e8f2; }
}
*{box-sizing:border-box}
body{background:var(--bg);color:var(--text);font:16px/1.45 system-ui,Segoe UI,Roboto,Inter,Arial,sans-serif;margin:0}
.site-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-bottom:1px solid var(--border);background:var(--panel);position:sticky;top:0;z-index:20}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:40px;height:40px;border-radius:8px}
.brand-text h1{margin:0;font-size:18px}
.brand-text .tag{margin:4px 0 0;color:var(--muted);font-size:12px}
.actions{display:flex;gap:8px}
.btn{background:linear-gradient(30deg,var(--accent),var(--accent2));border:none;color:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}
.btn.ghost{background:transparent;border:1px solid var(--border);color:var(--text)}

.container{padding:16px;display:grid;gap:16px;max-width:1200px;margin:0 auto}
.panel{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:14px}
.add .form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px}
.when{border:1px dashed var(--border);border-radius:10px;padding:10px;margin-top:8px;display:flex;gap:16px;align-items:center;flex-wrap:wrap}
.flex-wrap{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:8px}
.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{background:rgba(255,255,255,0.06);border:1px solid var(--border);color:var(--text);padding:6px 10px;border-radius:999px;cursor:pointer}
.chip.active{outline:2px solid var(--accent)}
.hm{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
input,select{background:transparent;border:1px solid var(--border);color:var(--text);border-radius:10px;padding:8px 10px;width:100%}
.hide{display:none!important}
.buttons{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}

.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
.list{display:grid;gap:8px;padding:0;margin:0;list-style:none}
.item{background:rgba(255,255,255,0.04);border:1px solid var(--border);border-radius:12px;padding:8px 10px;display:flex;justify-content:space-between;align-items:center}

.calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:10px}
.col{border:1px solid var(--border);border-radius:12px;overflow:hidden;background:rgba(255,255,255,0.02)}
.colhead{display:flex;justify-content:space-between;align-items:center;padding:8px 10px;background:rgba(0,0,0,0.08);border-bottom:1px solid var(--border)}
.colhead.over{background:rgba(245,158,11,0.15)}
.daylist{display:grid;gap:8px;padding:8px 10px}
.block{position:relative;background:#2b3042;border:1px solid var(--border);border-radius:10px;padding:8px 10px;color:#fff;cursor:grab}
.block.high{outline:2px solid var(--danger);font-weight:700}
.block.done{opacity:0.85;text-decoration:line-through;background:#1f3d2b}
.block.fixed{background:#2f2a44}
.block .small{font-size:12px;opacity:0.85}

.cal-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}

.reward{position:fixed;left:0;right:0;bottom:24px;display:flex;justify-content:center;z-index:50}
.reward.hide{display:none}
.reward__inner{display:flex;gap:12px;align-items:center;background:var(--panel);border:1px solid var(--border);padding:10px 14px;border-radius:12px;box-shadow:0 8px 40px rgba(0,0,0,0.25)}
.reward .star{font-size:20px}
